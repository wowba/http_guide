# 2. URL과 리소스

## 2.1 인터넷의 리소스 탐색하기
- URL은 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킨다.
- http://naver.com/robots.txt 의 경우
  - "http"는 URL의 스킴이다. 웹 클라이언트가 리소스에 어떻게 접근하는지 알려주며, 이 경우 http 프로토콜을 사용하는걸 말한다.
  - "naver.com" 은 서버의 위치이다. 웹 클라이언트가 리소스가 어디에 호스팅 되어있는지 알려준다.
  - "/robots.txt" 는 리소스의 경로이다. 서버에 존재하는 로컬 리소스중 어느것을 말하는지 가리킨다.
- 대부분의 URL은 "스킴://서버위치/경로" 구조로 이루어져 있다.
- URL은 브라우저에게 정보를 찾는데 있어서 필요한 모든 정보를 제공하며, 리소스가 어디에 위치해있고 어떻게 가져오는지 정의한다.

## 2.2 URL 문법
- ### 2.2.1 스킴
  - 주어진 리소스에 어떻게 접근하는지 알려주는 정보.
  - URL을 해석하는 어플리케이션이 어떤 프로토콜을 사용해야 하는지 알려준다.
- ### 2.2.2 호스트와 포트
  - 리소스의 위치를 찾기 위해 리소스를 호스팅하는 장비와 리소스 내 서버의 위치를 제공한다.
  - 호스트 컴포넌트는 리소스를 가지고 있는 인터넷상의 호스트 장비를 말한다.
  - 포트는 서버가 열어놓은 네트워크 컴포넌트를 가리킨다. 내부적으로 TCP 프로토콜을 사용하는 HTTP는 기본 포트가 80이다.
- ### 2.2.3 경로
  - URL의 경로 컴포넌트를 통해 리소스가 서버의 어디에 위치하는지 알 수 있다.
- ### 2.2.4 파라미터
  - URL의 파라미터 컴포넌트는 서버에 정확한 요청을 학시 위해 필요한 입력 파라미터를 받는데 사용한다.
  - 이름/값 의 리스트로 ";"로 구분하여 URL에 작성한다.
- ### 2.2.5 질의 문자열
  - 요청받을 리소스 형식의 범위를 좁히기 위해 사용한다.
  - "?" 뒤에 작성하며, 여러개를 입력할 경우 "&" 로 구분한다.
- ### 2.2.6 프래그먼트
  - 리소스의 특정 부분을 가리킬 수 있도록 URL은 프래그먼트 컴포넌트를 제공한다.
  - 프래그먼트는 서버에 보내는 요청이 아니며, 브라우저가 서버로부터 리소스를 내려받은 뒤  
  프래그먼트를 사용하여 보고자 하는 일부 데이터를 볼 수 있다.

## 2.3 단축 URL
- 브라우저는 사용자가 기억하는 URL의 일부를 입력하면 나머지를 자동 입력하는 기능을 지원한다.
- ### 2.3.1 상대 URL
  - URL을 짧게 표시하는 방법이다.
  - 상대 URL 문법에 따르면 URL에 모든 스킴, 호스트 등 기타 컴포넌트들을 입력하지 않아도  
  컴포넌트가 포함된 기저 URL(원본 URL) 에서 찾아올 수 있다.
  - 기저 URL의 경우 다음과 같이 가져올 수 있다.
    - HTML 문서 내에서 기술
    - 리소스를 가져온 URL을 사용
    - 기저 URL 이 없는 경우 절대 URL로만 이루어져 있다.
- ### 2.3.2 URL 확장
  - 어떤 브라우저는 URL을 입력할 때 자동으로 URL을 확장한다.
    - 호스트 명 확장
      - 주소 입력란에 "yahoo" 입력시 자동으로 "www.yahoo.com" 완성
    - 히스토리 확장
      - 사용자가 방문한 URL의 기록을 저장하여 비슷한 URL 입력시 자동 완성

## 2.4 안전하지 않은 문자
- 어떤 인터넷 프로토콜을 통하든 안전하게 전송(누락 없이)될 수 있도록 URL은 설계되었으며,  
이를 위해 전송될 수 없는 문자들은 URL에서 사용되는 것이 금지되었다.
- ### 2.4.1 URL 문자 집합
  - US-ASCII 문자 집합을 사용하지만, 특정 이진 데이터를 포함하기 위해 **이스케이프**를 지원한다.
- ### 2.4.2 인코딩 체계
  - 누락될 수 있는 문자들을 표현할 수 있는 인코딩 방식이 고안되었다.
  - 인코딩은 안전하지 않은 문자를 "%"로 시작하여 ASCII 코드로 표현되는 두개의 16진수 수자로 이루어진 **이스케이프** 문자로 바꾼다.
- ### 2.4.3 문자 제한
  - 몇몇 문자는 URL 내에서 특별한 의미로 예약되어 있으므로, 다른 용도로 사용할 경우 반드시 인코딩을 해야한다.

## 2.5 URL의 미래
- URL을 통해 인터넷상에 존재하는 모든 객체에 이름을 지을 수 있고 새로운 포맷을 쉽게 구축할 수 있다.  
- 비록 리소스가 옮겨지면 URL을 사용할 수 없지만, **URN**을 이용하면 객체의 위치와 상관 없이 리소스의 위치를 찾을 수 있다.
- 하지만 표준은 바꾸기 어려우므로 쉽게 사용할 수 있는 URL을 계속 사용할 것 같다.